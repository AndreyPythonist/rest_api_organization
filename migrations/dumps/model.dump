insert into building (id, address) values
('35ea1b52-fb4e-4a24-91e3-bd2fd0ae91d5','г.Москва, Бережковская наб., 38, стр. 1'),
('245e8594-e5cf-45a2-a16b-4503e2e510aa','г.Москва, Поклонная ул., 3'),
('3b013d9f-3998-43b5-accb-911f75197a5f','г.Москва, Кутузовский просп., 32, корп. 1'),
('ccfee3d2-be0b-45bb-b5a9-79e7be8d8fc1','г.Москва, Ленинградский просп., 72, корп. 1'),
('3731d91a-e368-4927-8a98-9dd2494e7fe5','г.Москва, просп. Мира, 102, корп. 1'),
('d527f19a-6434-4c95-a580-f984cf7eeed7','г.Москва, Верхние Поля ул., 55А'),
('97bdc189-c53c-49a3-aab1-dd0a44734372','г.Москва, Зеленоград, ул. Панфилова, 28Б, стр. 1');


insert into coordinates (id, building_id, latitude, longitude) values 
('c5b80227-c46f-4d74-ba32-ff057235fb0b','35ea1b52-fb4e-4a24-91e3-bd2fd0ae91d5','55.732164','37.545617'),
('aa0110ca-5d01-47b4-b65b-acc608eb9abd','245e8594-e5cf-45a2-a16b-4503e2e510aa','55.736179','37.533194'),
('e7404f27-d231-4f03-8e0c-8898c11cf0e9','3b013d9f-3998-43b5-accb-911f75197a5f','55.741404','37.531559'),
('79e3ccb7-3689-4d1e-bbfc-a9f6ad5069e1','ccfee3d2-be0b-45bb-b5a9-79e7be8d8fc1','55.805791','37.520348'),
('8c99485b-d1d8-4bdd-8b6c-72a649f0fc51','3731d91a-e368-4927-8a98-9dd2494e7fe5','55.800595','37.636680'),
('cdc888b9-a3ef-4a02-970c-cce6948d9cbc','d527f19a-6434-4c95-a580-f984cf7eeed7','55.658703','37.799607'),
('5a18ab21-945f-4d35-aec1-644a5e0f4d84','97bdc189-c53c-49a3-aab1-dd0a44734372','55.983167','37.171846');


insert into organization (id, building_id, "name") values 
('60218891-09bd-4dbd-be3b-8485216aad18','35ea1b52-fb4e-4a24-91e3-bd2fd0ae91d5','Продукты'),
('ccd578b1-a7c4-4512-aa56-a9d20792406f','35ea1b52-fb4e-4a24-91e3-bd2fd0ae91d5','ООО АвтомобильСервис'),
('d3637195-ce1d-4d71-8788-6f5269cddb4c','35ea1b52-fb4e-4a24-91e3-bd2fd0ae91d5','Звездные Продукты Ltd.'),
('721388c9-be95-4916-bfc2-88e2343cc92b','245e8594-e5cf-45a2-a16b-4503e2e510aa','ОАО Шестерочка'),
('f1c3e2be-7b58-475c-870b-b97014b17f95','245e8594-e5cf-45a2-a16b-4503e2e510aa','Мяско у дома'),
('b2a58967-4261-464e-b409-0961850134a5','3b013d9f-3998-43b5-accb-911f75197a5f','ООО ПочинкаАвто'),
('4b9e3ec1-2657-4018-b319-3d65aff489db','3b013d9f-3998-43b5-accb-911f75197a5f','ОАО Приезжай и чини'),
('5097ae05-07c3-44a5-873a-2e3964c70852','ccfee3d2-be0b-45bb-b5a9-79e7be8d8fc1','ООО Гаечка'),
('3e11796e-36b0-4feb-96ad-df5c88f32192','ccfee3d2-be0b-45bb-b5a9-79e7be8d8fc1','Продукты оптом'),
('49be401d-7dc3-4a4b-bb69-5a9ce66066f9','3731d91a-e368-4927-8a98-9dd2494e7fe5','Есть давай'),
('d303d228-9341-4ee6-9d5c-d05e38afc41e','d527f19a-6434-4c95-a580-f984cf7eeed7','ООО Автомастерская'),
('a933d194-4f35-423e-acae-89a39c613e24','97bdc189-c53c-49a3-aab1-dd0a44734372','ООО Чинилыч');


insert into phone_number (id, organization_id, "number") values 
('8e2a758f-76cc-41f5-aed5-02bd3cf28fc0','60218891-09bd-4dbd-be3b-8485216aad18','1-111-111'),
('42e01d5d-03f3-4dc7-b145-8fc696257e3e','60218891-09bd-4dbd-be3b-8485216aad18','8-904-234-33-98'),
('53310688-437e-4814-99c1-225499a9ee5c','60218891-09bd-4dbd-be3b-8485216aad18','8-912-123-87-98'),
('ef0faa86-f0b7-46ae-814b-9cd762f93021','ccd578b1-a7c4-4512-aa56-a9d20792406f','8-921-432-90-21'),
('a457abb6-39ec-4dd2-99df-c11b4fd1956c','d3637195-ce1d-4d71-8788-6f5269cddb4c','3-543-693'),
('721388c9-be95-4916-bfc2-88e2343cc92b','d3637195-ce1d-4d71-8788-6f5269cddb4c','8-932-583-19-84'),
('3ea6e323-6409-4166-aee9-3a699ff46d91','721388c9-be95-4916-bfc2-88e2343cc92b','8-932-583-19-84'),
('6e8660a7-b6a0-436d-8ea3-03f304e747fb','f1c3e2be-7b58-475c-870b-b97014b17f95','8-954-123-54-75'),
('4e3c23fd-bb62-460d-8fed-18eb392d674d','f1c3e2be-7b58-475c-870b-b97014b17f95','7-543-643'),
('7d46b26d-fee6-43a0-a0bd-752589884bdf','b2a58967-4261-464e-b409-0961850134a5','2-541-958'),
('61fd3c74-775c-4307-8112-5bb2d7270531','b2a58967-4261-464e-b409-0961850134a5','8-954-213-43-12'),
('78f9e527-67df-4854-b95b-ccf1c65b2506','4b9e3ec1-2657-4018-b319-3d65aff489db','3-213-543'),
('ca71b260-a2ac-475a-9aa3-1f174638d419','5097ae05-07c3-44a5-873a-2e3964c70852','2-434-123'),
('32d04d3a-a6f5-4626-a269-b0144a682df2','3e11796e-36b0-4feb-96ad-df5c88f32192','8-943-123-48-23'),
('f7f22d63-08b3-4fc0-abd1-85d97d138c59','3e11796e-36b0-4feb-96ad-df5c88f32192','2-942-543'),
('aa7981f4-d2b0-456c-b6e2-fe83e510931b','49be401d-7dc3-4a4b-bb69-5a9ce66066f9','5-432-695'),
('5c33ab28-67cb-4bb6-82e8-49e80cde84f9','49be401d-7dc3-4a4b-bb69-5a9ce66066f9','8-904-920-87-12'),
('259bcfcd-f640-46ef-82d5-8fecaeeb72eb','d303d228-9341-4ee6-9d5c-d05e38afc41e','8-956-921-87-34'),
('dec3c247-cf86-4ba4-94a4-500c375d5fa9','a933d194-4f35-423e-acae-89a39c613e24','8-921-542-21-65');


insert into activity (id, parent_id, value) values 
('cff92dae-cc45-46c4-b359-cfab6393974f',null,'Еда'),
('7b2e89b2-58a2-4919-9deb-9df23f7caa11','cff92dae-cc45-46c4-b359-cfab6393974f','Мясная продукция'),
('bcca0901-e142-4fc2-9f72-d95cf22162df','7b2e89b2-58a2-4919-9deb-9df23f7caa11','Курица'),
('2df98a6d-268f-4539-960d-6cca1e4a5f17','7b2e89b2-58a2-4919-9deb-9df23f7caa11','Говядина'),
('f121975f-40b6-490b-8486-216f83589ee7','cff92dae-cc45-46c4-b359-cfab6393974f','Молочная продукция'),
('e8147294-9034-4cd0-9150-6840efa9677f','f121975f-40b6-490b-8486-216f83589ee7','Творог'),
('99066e4f-b972-45a5-ba29-28b1ca60d3f4','f121975f-40b6-490b-8486-216f83589ee7','Сыр'),
('5b82362f-0a16-43b7-bf61-44bd238a7181',null,'Автомобили'),
('f5fc61d9-f276-481d-9911-14e278b2f1ee','5b82362f-0a16-43b7-bf61-44bd238a7181','Грузовые'),
('b587460d-d1a8-4feb-9a86-5603db10c1a1','f5fc61d9-f276-481d-9911-14e278b2f1ee','Фуры'),
('0d314aa5-2163-4d50-80e6-9b934911d1c4','f5fc61d9-f276-481d-9911-14e278b2f1ee','Цистерны'),
('ec3de3a2-f355-4f53-b659-94be5b20d82b','5b82362f-0a16-43b7-bf61-44bd238a7181','Легковые'),
('37ea1670-a14d-482f-98de-0aeecdb6ff22','ec3de3a2-f355-4f53-b659-94be5b20d82b','Универсал'),
('aa3c9b75-8092-4752-92cc-62906a58a6bc','ec3de3a2-f355-4f53-b659-94be5b20d82b','Минивэн');


insert into activity_organization (id, organization_id, activity_id) values
('78f08685-e880-4f86-9110-003f27efde9e', '60218891-09bd-4dbd-be3b-8485216aad18','7b2e89b2-58a2-4919-9deb-9df23f7caa11'),
('46cb6889-0c7b-48a5-a0bd-8e909491bbfb', '60218891-09bd-4dbd-be3b-8485216aad18','f121975f-40b6-490b-8486-216f83589ee7'),
('ccd578b1-a7c4-4512-aa56-a9d20792406f', 'ccd578b1-a7c4-4512-aa56-a9d20792406f','ec3de3a2-f355-4f53-b659-94be5b20d82b'),
('acd593d0-de13-4213-b168-fb42798e90d1', 'd3637195-ce1d-4d71-8788-6f5269cddb4c','cff92dae-cc45-46c4-b359-cfab6393974f'),
('d9768466-5a40-4e7c-89af-feeb35ca981f', '721388c9-be95-4916-bfc2-88e2343cc92b','7b2e89b2-58a2-4919-9deb-9df23f7caa11'),
('899c290e-f11f-4653-9501-d2e60312abdc', '721388c9-be95-4916-bfc2-88e2343cc92b','f121975f-40b6-490b-8486-216f83589ee7'),
('319c38b1-36dc-45aa-ba24-2d6f86ee7716', 'f1c3e2be-7b58-475c-870b-b97014b17f95','7b2e89b2-58a2-4919-9deb-9df23f7caa11'),
('a481012f-c004-48fd-acf0-c25e19e1ac84', 'b2a58967-4261-464e-b409-0961850134a5','f5fc61d9-f276-481d-9911-14e278b2f1ee'),
('31d25ca2-464b-4714-b479-a22045d5473e', 'b2a58967-4261-464e-b409-0961850134a5','37ea1670-a14d-482f-98de-0aeecdb6ff22'),
('0c88cd3a-7e6a-48de-9720-1d7e7f6a9003', '4b9e3ec1-2657-4018-b319-3d65aff489db','5b82362f-0a16-43b7-bf61-44bd238a7181'),
('697f5b37-35c1-417a-886a-083fb5cb9ef2', '5097ae05-07c3-44a5-873a-2e3964c70852','b587460d-d1a8-4feb-9a86-5603db10c1a1'),
('0c6e982d-4336-4426-a182-5304d2acd90f', '3e11796e-36b0-4feb-96ad-df5c88f32192','7b2e89b2-58a2-4919-9deb-9df23f7caa11'),
('a0f85e6a-485a-47a5-8435-e4f27f9741ba', '3e11796e-36b0-4feb-96ad-df5c88f32192','99066e4f-b972-45a5-ba29-28b1ca60d3f4'),
('6d067a15-fdd2-4203-b01a-010fc4d08314', '49be401d-7dc3-4a4b-bb69-5a9ce66066f9','bcca0901-e142-4fc2-9f72-d95cf22162df'),
('e61d6795-42d9-4706-a0bf-e617ab777884', '49be401d-7dc3-4a4b-bb69-5a9ce66066f9','f121975f-40b6-490b-8486-216f83589ee7'),
('8b7e4819-dc7f-4b64-8539-8da6e5b22551', 'd303d228-9341-4ee6-9d5c-d05e38afc41e','ec3de3a2-f355-4f53-b659-94be5b20d82b'),
('3edf8934-1578-46ad-b4b4-fa969b883acf', 'a933d194-4f35-423e-acae-89a39c613e24','f5fc61d9-f276-481d-9911-14e278b2f1ee');


CREATE OR REPLACE FUNCTION get_distance_from_lat_lon_km(lat_center float, lon_center float, lat_org float, lon_org float)
RETURNS float AS $$
DECLARE
    r float := 6371;
    d_lat float := radians(lat_org - lat_center);
    d_lon float := radians(lon_org - lon_center);
    a float;
    c float;
    d float;
BEGIN
    a := sin(d_lat / 2) * sin(d_lat / 2) + cos(radians(lat_center)) * cos(radians(lat_org)) * sin(d_lon / 2) * sin(d_lon / 2);
    c := 2 * atan2(sqrt(a), sqrt(1 - a));
    d := r * c;
RETURN d;
END;
$$ LANGUAGE plpgsql;
